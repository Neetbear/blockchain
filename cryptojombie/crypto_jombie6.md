# lesson 6
## web3.js
### Web3.jsê°€ ë­”ê°€ìš”?
ì´ë”ë¦¬ì›€ ë„¤íŠ¸ì›Œí¬ëŠ” ë…¸ë“œë¡œ êµ¬ì„±ë˜ì–´ ìˆê³ , ê° ë…¸ë“œëŠ” ë¸”ë¡ì²´ì¸ì˜ ë³µì‚¬ë³¸ì„ ê°€ì§€ê³  ìˆë‹¤
ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³ ì í•œë‹¤ë©´, ì´ ë…¸ë“œë“¤ ì¤‘ í•˜ë‚˜ì— ì§ˆì˜ë¥¼ ë³´ë‚´ ì•„ë˜ ë‚´ìš©ì„ ì „ë‹¬í•´ì•¼í•œë‹¤
1. ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ ì£¼ì†Œ
2. ì‹¤í–‰í•˜ê³ ì í•˜ëŠ” í•¨ìˆ˜, ê·¸ë¦¬ê³ 
3. ê·¸ í•¨ìˆ˜ì— ì „ë‹¬í•˜ê³ ì í•˜ëŠ” ë³€ìˆ˜ë“¤

ì´ë”ë¦¬ì›€ ë…¸ë“œë“¤ì€ JSON-RPCë¼ê³  ë¶ˆë¦¬ëŠ” ì–¸ì–´ë¡œë§Œ ì†Œí†µí•  ìˆ˜ ìˆë‹¤
```
// ê·¸ë˜... ì´ëŸ° ë°©ë²•ìœ¼ë¡œ ëª¨ë“  í•¨ìˆ˜ í˜¸ì¶œì„ ì˜ ì‘ì„±í•  ìˆ˜ ìˆê¸¸ ë¹Œê² ë„¤!
// ì˜¤ë¥¸ìª½ìœ¼ë¡œ ìŠ¤í¬ë¡¤í•˜ê²Œ ==>
{"jsonrpc":"2.0","method":"eth_sendTransaction","params":[{"from":"0xb60e8dd61c5d32be8058bb8eb970870f07233155","to":"0xd46e8dd67c5d32be8058bb8eb970870f07244567","gas":"0x76c0","gasPrice":"0x9184e72a000","value":"0x9184e72a","data":"0xd46e8dd67c5d32be8d46e8dd67c5d32be8058bb8eb970870f072445675058bb8eb970870f072445675"}],"id":1}
```
web3.jsë¥¼ ì‚¬ìš©í•˜ë©´ ìœ„ì˜ ì§ˆì˜ë¬¸ì„ ì‘ì„±í•  í•„ìš” ì—†ì´, ìë„¤ì˜ ì½”ë“œì—ì„œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì€ ë‹¤ìŒê³¼ ê°™ë‹¤
```
CryptoZombies.methods.createRandomZombie("Vitalik Nakamoto ğŸ¤”").send({ from: "0xb60e8dd61c5d32be8058bb8eb970870f07233155", gas: "3000000" })
```
```
// NPMì„ ì‚¬ìš©í•  ë•Œ
npm install web3

// Yarnì„ ì‚¬ìš©í•  ë•Œ
yarn add web3

// Bowerë¥¼ ì‚¬ìš©í•  ë•Œ
bower install web3

// ...ê¸°íƒ€ ë“±ë“±.
```
```
<script language="javascript" type="text/javascript" src="web3.min.js"></script>
```

## Web3 í”„ë¡œë°”ì´ë”(Provider)
### Infura
InfuraëŠ” ë¹ ë¥¸ ì½ê¸°ë¥¼ ìœ„í•œ ìºì‹œ ê³„ì¸µì„ í¬í•¨í•˜ëŠ” ë‹¤ìˆ˜ì˜ ì´ë”ë¦¬ì›€ ë…¸ë“œë¥¼ ìš´ì˜í•˜ëŠ” ì„œë¹„ìŠ¤
ì ‘ê·¼ì„ ìœ„í•œ APIë¥¼ ë¬´ë£Œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤
Infuraë¥¼ í”„ë¡œë°”ì´ë”ë¡œ ì‚¬ìš©í•˜ë©´, ì´ë”ë¦¬ì›€ì„ ì„¤ì¹˜í•˜ê³  ê³„ì† ìœ ì§€í•  í•„ìš” ì—†ì´ ì´ë”ë¦¬ì›€ ë¸”ë¡ì²´ì¸ê³¼ ë©”ì„¸ì§€ë¥¼ í™•ì‹¤íˆ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆë‹¤
```
var web3 = new Web3(new Web3.providers.WebsocketProvider("wss://mainnet.infura.io/ws"));
```
### ë©”íƒ€ë§ˆìŠ¤í¬(Metamask)
ë©”íƒ€ë§ˆìŠ¤í¬ëŠ” ì‚¬ìš©ìë“¤ì´ ì´ë”ë¦¬ì›€ ê³„ì •ê³¼ ê°œì¸ í‚¤ë¥¼ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í¬ë¡¬ê³¼ íŒŒì´ì–´í­ìŠ¤ì˜ ë¸Œë¼ìš°ì € í™•ì¥ í”„ë¡œê·¸ë¨
í•´ë‹¹ ê³„ì •ë“¤ì„ ì¨ì„œ Web3.jsë¥¼ ì‚¬ìš©í•˜ëŠ” ì›¹ì‚¬ì´íŠ¸ë“¤ê³¼ ìƒí˜¸ì‘ìš©ì„ í•  ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤
### ë©”íƒ€ë§ˆìŠ¤í¬ì˜ Web3 í”„ë¡œë°”ì´ë” ì‚¬ìš©í•˜ê¸°
```
window.addEventListener('load', function() {

  // Web3ê°€ ë¸Œë¼ìš°ì €ì— ì£¼ì…ë˜ì—ˆëŠ”ì§€ í™•ì¸(Mist/MetaMask)
  if (typeof web3 !== 'undefined') {
    // Mist/MetaMaskì˜ í”„ë¡œë°”ì´ë” ì‚¬ìš©
    web3js = new Web3(web3.currentProvider);
  } else {
    // ì‚¬ìš©ìê°€ Metamaskë¥¼ ì„¤ì¹˜í•˜ì§€ ì•Šì€ ê²½ìš°ì— ëŒ€í•´ ì²˜ë¦¬
    // ì‚¬ìš©ìë“¤ì—ê²Œ Metamaskë¥¼ ì„¤ì¹˜í•˜ë¼ëŠ” ë“±ì˜ ë©”ì„¸ì§€ë¥¼ ë³´ì—¬ì¤„ ê²ƒ
  }

  // ì´ì œ ìë„¤ ì•±ì„ ì‹œì‘í•˜ê³  web3ì— ììœ ë¡­ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„¤:
  startApp()

})
```

## ì»¨íŠ¸ë™íŠ¸ì™€ ëŒ€í™”í•˜ê¸°
